<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impro Trainer wg Johnstone'a</title>
    <!-- Tailwind CSS (zewnętrzna biblioteka stylów) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Ikony FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Nasze własne style -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-neutral-900 border-b border-neutral-800 p-4 shadow-lg sticky top-0 z-50">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-amber-400">
                <i class="fas fa-theater-masks mr-2"></i>Impro Trainer
                <span class="text-xs text-neutral-500 block md:inline md:ml-2 font-normal">wg metody Keitha Johnstone'a</span>
            </h1>
            <button id="btn-info-main" class="text-neutral-400 hover:text-white transition">
                <i class="fas fa-info-circle text-xl"></i>
            </button>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-neutral-800 sticky top-[73px] z-40 shadow-md">
        <div class="max-w-4xl mx-auto flex overflow-x-auto">
            <button data-tab="behaviors" class="nav-btn flex-1 py-4 px-4 text-center hover:bg-neutral-700 transition active-tab whitespace-nowrap font-medium">
                <i class="fas fa-list-ul mb-1 block"></i> Fast Food Stanisławski
            </button>
            <button data-tab="scenarios" class="nav-btn flex-1 py-4 px-4 text-center hover:bg-neutral-700 transition whitespace-nowrap font-medium">
                <i class="fas fa-bolt mb-1 block"></i> Sceny i Tilty
            </button>
            <button data-tab="coach" class="nav-btn flex-1 py-4 px-4 text-center hover:bg-neutral-700 transition whitespace-nowrap font-medium">
                <i class="fas fa-user-graduate mb-1 block"></i> Wirtualny Trener
            </button>
            <button data-tab="games" class="nav-btn flex-1 py-4 px-4 text-center hover:bg-neutral-700 transition whitespace-nowrap font-medium">
                <i class="fas fa-dice mb-1 block"></i> Baza Gier
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow p-4 max-w-4xl mx-auto w-full">

        <!-- TAB: Fast Food Stanislawski -->
        <div id="content-behaviors" class="tab-content fade-in">
            <div class="bg-neutral-800 rounded-xl p-6 shadow-xl border border-neutral-700">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h2 class="text-2xl font-bold text-amber-100">Generator Zachowań</h2>
                        <p class="text-neutral-400 text-sm mt-1">Kompletny zestaw list z "Impro for Storytellers".</p>
                    </div>
                    <button id="btn-info-method" class="bg-neutral-700 hover:bg-amber-600 text-white text-xs px-3 py-1 rounded transition flex items-center gap-2">
                        <i class="fas fa-book-open"></i> Jak używać?
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label class="block text-xs uppercase text-neutral-500 font-bold mb-2">Wybierz typ postaci / cel</label>
                        <select id="behavior-category" class="w-full bg-neutral-900 border border-neutral-700 text-white rounded-lg p-3 focus:outline-none focus:border-amber-500 transition">
                            <optgroup label="Podstawowe">
                                <option value="high_status">Wysoki Status</option>
                                <option value="low_status">Niski Status</option>
                            </optgroup>
                            <optgroup label="Relacje">
                                <option value="annoying">Uprzykrzanie życia</option>
                                <option value="charming">Uprzyjemnianie życia</option>
                                <option value="seduce_m">Uwodzenie mężczyzny</option>
                                <option value="seduce_w">Uwodzenie kobiety</option>
                                <option value="bad_parent">Zły Rodzic</option>
                            </optgroup>
                            <optgroup label="Archetypy i Maski">
                                <option value="hero">Bohater</option>
                                <option value="beautiful">Piękność</option>
                                <option value="mysterious">Tajemniczy</option>
                                <option value="smart">Inteligent</option>
                                <option value="party">Dusza Towarzystwa</option>
                                <option value="computer">Komputer</option>
                                <option value="normal">Normalny</option>
                            </optgroup>
                            <optgroup label="Negatywne / Trudne">
                                <option value="guilty">Winny</option>
                                <option value="boring">Nudny</option>
                                <option value="jerk">Palant</option>
                                <option value="sympathy">Szukający Sympatii</option>
                            </optgroup>
                            <optgroup label="Stan">
                                <option value="happy">Zadowolony / Szczęśliwy</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="flex items-end">
                        <button id="btn-generate-behavior" class="w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-3 px-4 rounded-lg transition shadow-lg transform active:scale-95">
                            <i class="fas fa-random mr-2"></i> Losuj instrukcję
                        </button>
                    </div>
                </div>

                <div id="behavior-display" class="bg-neutral-900 rounded-lg p-8 text-center min-h-[200px] flex flex-col justify-center items-center border-2 border-dashed border-neutral-700 relative overflow-hidden">
                    <i class="fas fa-theater-masks text-4xl text-neutral-600 mb-4"></i>
                    <p class="text-neutral-500">Wybierz listę i wylosuj instrukcję, którą musisz natychmiast wykonać w scenie.</p>
                </div>
            </div>
        </div>

        <!-- TAB: Scenarios & Tilts -->
        <div id="content-scenarios" class="tab-content hidden fade-in">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Scenario Starter -->
                <div class="bg-neutral-800 rounded-xl p-6 shadow-xl border border-neutral-700">
                    <h2 class="text-xl font-bold mb-4 text-amber-100"><i class="fas fa-play mr-2 text-amber-500"></i>Start Sceny</h2>
                    <p class="text-neutral-400 text-sm mb-4">Inspiracje do rozpoczęcia sceny oparte na "kręgu oczekiwań" i prostych relacjach.</p>
                    <button id="btn-generate-scenario" class="w-full bg-neutral-700 hover:bg-neutral-600 text-white font-bold py-3 px-4 rounded-lg transition mb-4">
                        Nowa Inspiracja
                    </button>
                    <div id="scenario-display" class="bg-neutral-900 p-4 rounded-lg text-amber-50 min-h-[100px] flex items-center justify-center text-center">
                        ...
                    </div>
                </div>

                <!-- Tilt Generator -->
                <div class="bg-neutral-800 rounded-xl p-6 shadow-xl border border-neutral-700">
                    <h2 class="text-xl font-bold mb-4 text-amber-100"><i class="fas fa-bolt mr-2 text-red-500"></i>Generator Tiltów</h2>
                    <p class="text-neutral-400 text-sm mb-4">"Tilt" to nagła zmiana kontekstu lub relacji, która popycha akcję do przodu.</p>
                    <button id="btn-generate-tilt" class="w-full bg-red-900 hover:bg-red-800 text-white font-bold py-3 px-4 rounded-lg transition mb-4">
                        Wprowadź Tilt!
                    </button>
                    <div id="tilt-display" class="bg-neutral-900 p-4 rounded-lg text-red-100 min-h-[100px] flex items-center justify-center text-center italic border border-red-900/30">
                        ...
                    </div>
                </div>
            </div>

            <!-- Mantras -->
            <div class="mt-6 bg-neutral-800 rounded-xl p-6 shadow-xl border border-neutral-700">
                <h2 class="text-xl font-bold mb-4 text-amber-100"><i class="fas fa-om mr-2 text-purple-400"></i>Mantry Wewnętrzne</h2>
                <p class="text-neutral-400 text-sm mb-4">Zdanie, które powtarzasz w myślach podczas całej sceny, niezależnie od tekstu mówionego.</p>
                <div class="flex gap-4">
                    <button id="btn-generate-mantra" class="bg-purple-900 hover:bg-purple-800 text-white font-bold py-2 px-6 rounded-lg transition">
                        Losuj Mantrę
                    </button>
                    <div id="mantra-display" class="flex-grow bg-neutral-900 p-3 rounded-lg flex items-center text-purple-200">
                        Kliknij, aby wylosować mantrę...
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: Coach -->
        <div id="content-coach" class="tab-content hidden fade-in">
            <div class="bg-neutral-800 rounded-xl p-8 shadow-xl border border-neutral-700 text-center relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-amber-600 via-yellow-500 to-amber-600"></div>
                
                <h2 class="text-3xl font-bold mb-2 text-white">Trener Johnstone</h2>
                <p class="text-neutral-400 mb-8">Użyj tego trybu podczas improwizacji. Klikaj spację lub ustaw auto-zmianę.</p>

                <div id="coach-display" class="text-2xl md:text-4xl font-bold text-amber-400 min-h-[150px] flex items-center justify-center transition-all duration-300 transform scale-100 p-4 border-y border-neutral-700 bg-neutral-900/50">
                    "Bądź oczywisty!"
                </div>

                <div class="mt-8 flex flex-col md:flex-row justify-center gap-4">
                    <button id="btn-next-coach" class="bg-neutral-700 hover:bg-neutral-600 text-white font-bold py-3 px-8 rounded-full text-lg transition">
                        <i class="fas fa-step-forward mr-2"></i> Następna uwaga
                    </button>
                    <button id="auto-coach-btn" class="bg-transparent border-2 border-amber-600 text-amber-500 hover:bg-amber-600 hover:text-white font-bold py-3 px-8 rounded-full text-lg transition">
                        <i class="fas fa-play mr-2"></i> Auto (co 10s)
                    </button>
                </div>
            </div>
            
            <div class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-center text-sm text-neutral-500">
                <div class="p-3 bg-neutral-900 rounded border border-neutral-800">Spontaniczność</div>
                <div class="p-3 bg-neutral-900 rounded border border-neutral-800">Status</div>
                <div class="p-3 bg-neutral-900 rounded border border-neutral-800">Narracja</div>
                <div class="p-3 bg-neutral-900 rounded border border-neutral-800">Akceptacja</div>
            </div>
        </div>

        <!-- TAB: Games -->
        <div id="content-games" class="tab-content hidden fade-in">
            <div class="grid gap-4" id="games-list">
                <!-- Games will be injected here by JS -->
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-neutral-900 text-neutral-500 py-6 mt-auto border-t border-neutral-800 text-sm text-center">
        <p>Opracowano na podstawie książki "Improwizacja wg Johnstone'a" (Oskar Hamerski) oraz "Impro for Storytellers".</p>
        <p class="mt-1">Narzędzie edukacyjne dla studentów.</p>
    </footer>

    <!-- Main Info Modal -->
    <div id="main-info-modal" class="fixed inset-0 bg-black/80 z-[60] hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-neutral-800 p-6 rounded-xl max-w-md w-full border border-neutral-700 shadow-2xl">
            <h3 class="text-xl font-bold text-white mb-2">O narzędziu</h3>
            <p class="text-neutral-300 mb-4">
                To narzędzie cyfryzuje techniki opisane w książkach Keitha Johnstone'a.
                Służy do treningu indywidualnego i grupowego.
            </p>
            <ul class="list-disc list-inside text-neutral-400 text-sm mb-6 space-y-1">
                <li>Baza "Fast Food Stanisławski" zawiera kompletne listy zachowań.</li>
                <li>Moduł Trenera cytuje zasady Johnstone'a.</li>
                <li>Tilty pochodzą z rozdziału o narracji.</li>
            </ul>
            <button id="btn-close-main-info" class="w-full bg-amber-600 text-white py-2 rounded hover:bg-amber-500">Zamknij</button>
        </div>
    </div>

    <!-- Method Info Modal -->
    <div id="method-info-modal" class="fixed inset-0 bg-black/80 z-[60] hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-neutral-800 p-0 rounded-xl max-w-lg w-full border border-neutral-700 shadow-2xl overflow-hidden max-h-[80vh] flex flex-col">
            <div class="p-6 border-b border-neutral-700 bg-neutral-900">
                <h3 class="text-xl font-bold text-amber-400"><i class="fas fa-book-open mr-2"></i>Fast Food Stanisławski - Instrukcja</h3>
            </div>
            <div class="p-6 overflow-y-auto text-neutral-300 space-y-4">
                <p><strong>Czym to jest?</strong><br>To metoda "na skróty". Zamiast długo analizować psychologię postaci ("jaki mam cel?"), otrzymujesz gotową listę zachowań fizycznych i werbalnych, które natychmiast tworzą postać.</p>
                
                <p><strong>Jak tego używać?</strong></p>
                <ul class="list-disc list-inside space-y-2 text-sm text-neutral-400">
                    <li><strong class="text-white">Cel vs. Sposób:</strong> Twój cel w scenie (np. "zabić kogoś") może być zupełnie sprzeczny z listą (np. "Być uważanym za miłego"). To tworzy najciekawsze napięcie.</li>
                    <li><strong class="text-white">Opór:</strong> Nie staraj się być logiczny. Jeśli masz listę "Uwodzenie", a grasz scenę pogrzebu - uwódź! Realizm bierze się z walki między sytuacją a twoim zachowaniem.</li>
                    <li><strong class="text-white">Zmiana:</strong> Wylosuj instrukcję i stosuj ją przez chwilę. Gdy poczujesz, że się wyczerpała, kliknij "Losuj" ponownie, by dostać nową.</li>
                    <li><strong class="text-white">Listy łączone:</strong> Najlepsze efekty daje łączenie list. Spróbuj "Uprzykrzać życie" jednej osobie w scenie, jednocześnie "Uwodząc" drugą.</li>
                </ul>

                <div class="bg-neutral-900 p-3 rounded border-l-4 border-amber-500 text-xs italic">
                    "Uczniowie prędko internalizują repertuar rozmaitych list; czasami nie zdają sobie nawet sprawy, że wcielają te instrukcje w życie." - K. Johnstone
                </div>
            </div>
            <div class="p-4 bg-neutral-900 border-t border-neutral-700">
                <button id="btn-close-method-info" class="w-full bg-neutral-700 text-white py-2 rounded hover:bg-neutral-600 transition">Zrozumiałem</button>
            </div>
        </div>
    </div>

    <!-- Nasz główny skrypt JS -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
